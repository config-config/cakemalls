(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54b05d9e"],{"02a4":function(t,e,s){t.exports=s.p+"img/333.02426a2d.png"},1480:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"home"}},[s("nav-bar",{staticClass:"nav-style"},[s("div",{staticClass:"nav-left",attrs:{slot:"left"},slot:"left"},[s("trans-text")],1),s("div",{attrs:{slot:"center"},slot:"center"},[t._v("佳佳蛋糕")]),s("div",{staticClass:"nav-right",attrs:{slot:"right"},slot:"right"},[s("trans-text")],1)]),s("tab-control",{directives:[{name:"show",rawName:"v-show",value:t.isTabControl,expression:"isTabControl"}],ref:"tabControl1",staticClass:"tabcon",attrs:{titles:["流行","新品","精选"]},on:{tabClick:t.tabClick}}),s("scroll",{ref:"scroll",staticClass:"content",attrs:{"probe-type":3,"pull-up-load":!0},on:{scroll:t.cScroll,pullingUp:t.loadMore}},[s("home-swiper",{attrs:{banners:t.banners},on:{sILoad:t.sILoad}}),s("home-recommend",{attrs:{recommend:t.recommend}}),s("tab-control",{ref:"tabControl2",attrs:{titles:["流行","新品","精选"]},on:{tabClick:t.tabClick}}),s("goods-list",{attrs:{goods:t.showGoods}})],1),s("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isShowBackTop,expression:"isShowBackTop"}],nativeOn:{click:function(e){return t.backClick(e)}}})],1)},i=[],a=s("2909"),o=s("a7ac"),r=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"trans"},[s("div",{staticClass:"transimg"},[s("div",{staticClass:"img1"}),s("div",{staticClass:"img2"}),s("div",{staticClass:"img3"}),s("div",{staticClass:"img4"}),s("div",{staticClass:"img5"}),s("div",{staticClass:"img6"})])])}],l={name:"TransThree"},u=l,d=(s("e285"),s("2877")),f=Object(d["a"])(u,r,c,!1,null,"5d7e51c5",null),m=f.exports,p=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},h=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"trans"},[s("div",{staticClass:"transimg"},[s("div",{staticClass:"img1"},[t._v("♥")]),s("div",{staticClass:"img2"},[t._v("佳")]),s("div",{staticClass:"img3"},[t._v("蛋")]),s("div",{staticClass:"img4"},[t._v("佳")]),s("div",{staticClass:"img5"},[t._v("糕")]),s("div",{staticClass:"img6"})])])}],v={name:"TransThree"},g=v,b=(s("26af"),Object(d["a"])(g,p,h,!1,null,"b874fcd8",null)),C=b.exports,_=s("5d17"),k=s("5ad3"),w=s("6d71"),T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("swiper",{staticClass:"w"},t._l(t.banners,(function(e,n){return s("swiper-item",{key:n},[s("img",{attrs:{src:e.iimagesrc},on:{load:t.sILoad}})])})),1)},$=[],x=s("dc2c"),y={name:"HomeSwiper",components:{Swiper:x["a"],SwiperItem:x["b"]},props:{banners:{type:Array,default:function(){return[]}}},data:function(){return{isLoad:!1}},methods:{sILoad:function(){this.isLoad||(this.$emit("sILoad"),this.isLoad=!0)}}},I=y,O=(s("776f"),Object(d["a"])(I,T,$,!1,null,"41c6ed10",null)),L=O.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"retext"},[t._v("每日推荐")]),s("div",{staticClass:"recommend"},t._l(t.recommend,(function(e,n){return s("div",{key:n,staticClass:"recommend-item",on:{click:function(s){return t.goodsClick(e.gid)}}},[s("img",{attrs:{src:e.gimage,alt:""}}),s("div",[t._v(t._s(e.gtitle))])])})),0)])},H=[],j={name:"HomeRecommend",props:{recommend:{type:Array,default:function(){return[]}}},methods:{goodsClick:function(t){this.$router.push("/detail/"+t)}}},E=j,G=(s("b237"),Object(d["a"])(E,S,H,!1,null,"3df32f58",null)),B=G.exports,Y=s("eecb"),A=s("735b"),N={name:"Home",components:{NavBar:o["a"],TabControl:k["a"],HomeSwiper:L,HomeRecommend:B,TransThree:m,TransText:C,GoodsList:w["a"],Scroll:_["a"]},data:function(){return{banners:[],recommend:[{link:"",image:s("3573"),title:"卡通"},{link:"",image:s("5265"),title:"生日"},{link:"",image:s("02a4"),title:"寿糕"},{link:"",image:s("02a4"),title:"寿糕"}],goods:{pop:{page:0,list:[]},news:{page:0,list:[]},sell:{page:0,list:[]}},currentType:"pop",tabOffsetTop:0,isTabControl:!1,saveY:0}},created:function(){var t=this;Object(A["b"])().then((function(e){t.banners=e[0],t.recommend=e[1]})),this.getHomeGoods("pop"),this.getHomeGoods("sell"),this.getHomeGoods("news")},mixins:[Y["b"],Y["a"]],activated:function(){this.$refs.scroll.scrollTo(0,this.saveY,0),this.$refs.scroll.refresh()},mounted:function(){var t=this;this.$bus.$on("changeCounts",(function(e,s,n){for(var i=["pop","sell","news"],a=0;a<i.length;a++){var o=i[a];if(o==n)for(var r=t.goods[o].list,c=0;c<r.length;c++)r[c].gid==e&&(r[c].gcollect=s)}}))},deactivated:function(){this.saveY=this.$refs.scroll.getScrollY(),this.$bus.$off("itemImageLoad",this.itemListener)},computed:{showGoods:function(){return this.goods[this.currentType].list}},methods:{sILoad:function(){this.tabOffsetTop=this.$refs.tabControl2.$el.offsetTop},tabClick:function(t){switch(t){case 0:this.currentType="pop";break;case 1:this.currentType="news";break;case 2:this.currentType="sell";break}this.$refs.tabControl1.currentIndex=t,this.$refs.tabControl2.currentIndex=t},cScroll:function(t){this.isShowBackTop=-t.y>700,this.isTabControl=-t.y>this.tabOffsetTop},getHomeGoods:function(t){var e=this,s=this.goods[t].page+1,n=t+"_"+s;Object(A["a"])(n).then((function(s){var n;(n=e.goods[t].list).push.apply(n,Object(a["a"])(s)),e.goods[t].page+=1,e.$refs.scroll.finishPullUp()}))},loadMore:function(){this.getHomeGoods(this.currentType),this.$refs.scroll.refresh()}}},J=N,M=(s("985a"),Object(d["a"])(J,n,i,!1,null,"0860eff6",null));e["default"]=M.exports},"17e8":function(t,e,s){},"24f2":function(t,e,s){},"26af":function(t,e,s){"use strict";var n=s("6479"),i=s.n(n);i.a},"323f":function(t,e,s){"use strict";var n=s("24f2"),i=s.n(n);i.a},3573:function(t,e,s){t.exports=s.p+"img/111.fae58292.png"},5265:function(t,e,s){t.exports=s.p+"img/222.248d615d.png"},5485:function(t,e,s){},"5ad3":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tab-control"},t._l(t.titles,(function(e,n){return s("div",{key:e,staticClass:"tab-control-item",class:{cactive:n===t.currentIndex},on:{click:function(e){return t.itemChange(n)}}},[s("span",[t._v(t._s(e))])])})),0)},i=[],a={name:"TanControl",props:{titles:{type:Array,default:function(){return[]}}},data:function(){return{currentIndex:0}},methods:{itemChange:function(t){this.currentIndex=t,this.$emit("tabClick",t)}}},o=a,r=(s("323f"),s("2877")),c=Object(r["a"])(o,n,i,!1,null,"66d17dc6",null);e["a"]=c.exports},"623f":function(t,e,s){},6479:function(t,e,s){},"776f":function(t,e,s){"use strict";var n=s("623f"),i=s.n(n);i.a},"78b5":function(t,e,s){},"985a":function(t,e,s){"use strict";var n=s("17e8"),i=s.n(n);i.a},b237:function(t,e,s){"use strict";var n=s("5485"),i=s.n(n);i.a},e285:function(t,e,s){"use strict";var n=s("78b5"),i=s.n(n);i.a}}]);
//# sourceMappingURL=chunk-54b05d9e.752a65e8.js.map