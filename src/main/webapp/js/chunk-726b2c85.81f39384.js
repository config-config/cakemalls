(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-726b2c85"],{"1e40":function(e,s,t){},2156:function(e,s,t){"use strict";var i=t("b072"),a=t.n(i);a.a},"3e68":function(e,s,t){},"8d85":function(e,s,t){"use strict";t.d(s,"d",(function(){return a})),t.d(s,"b",(function(){return n})),t.d(s,"e",(function(){return r})),t.d(s,"a",(function(){return o})),t.d(s,"c",(function(){return u}));var i=t("1bab");function a(e,s){return Object(i["a"])({url:"/userLogin.do",method:"post",data:{uname:e,upassword:s}})}function n(e){return Object(i["a"])({url:"userInfo.do",method:"post",data:{uid:e}})}function r(e,s,t){return Object(i["a"])({url:"userRegist.do",method:"post",data:{uname:e,upassword:s,uemail:t}})}function o(e){return Object(i["a"])({url:"getShoppingById.do",method:"post",data:{uid:e}})}function u(e,s,t){return Object(i["a"])({url:"updUpassword.do",method:"post",data:{uid:e,upassword:s,uemail:t}})}},"96b5":function(e,s,t){"use strict";var i=t("3e68"),a=t.n(i);a.a},a11e:function(e,s,t){e.exports=t.p+"img/back.d5a990cc.svg"},a7ac:function(e,s,t){"use strict";var i=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"nav-bar"},[t("div",{staticClass:"left"},[e._t("left")],2),t("div",{staticClass:"center"},[e._t("center")],2),t("div",{staticClass:"right"},[e._t("right")],2)])},a=[],n={name:"NavBar"},r=n,o=(t("2156"),t("2877")),u=Object(o["a"])(r,i,a,!1,null,"5c2b201d",null);s["a"]=u.exports},b072:function(e,s,t){},d5d1:function(e,s,t){"use strict";t.r(s);var i=function(){var e=this,s=e.$createElement,i=e._self._c||s;return i("div",[i("nav-bar",{staticClass:"nav-barl"},[i("div",{staticClass:"nav-left",attrs:{slot:"left"},on:{click:e.backClick},slot:"left"},[i("img",{attrs:{src:t("a11e"),alt:""}})]),i("div",{staticClass:"nav-titles",attrs:{slot:"center"},slot:"center"},[e._v(e._s(e.isNavText))])]),i("login-and-regist",{attrs:{isLogin:e.isLogin},on:{isLoginChange:e.isLoginChange}}),i("div",{staticClass:"changestwo"},[e.isLogin?i("div",{on:{click:e.goRegist}},[e._v("去注册")]):i("div",{on:{click:e.goLogin}},[e._v("去登录")])])],1)},a=[],n=t("a7ac"),r=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"login-regist"},[e.isLogin?t("div",{staticClass:"login"},[t("div",{staticClass:"login-title"},[e._v("登录")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],staticClass:"user-name",attrs:{type:"text",name:"username",placeholder:"请输入用户名"},domProps:{value:e.userName},on:{change:e.userChange,input:function(s){s.target.composing||(e.userName=s.target.value)}}}),t("div",{staticClass:"res uname"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isUserName,expression:"isUserName"}]},[e._v("请输入3位以上的用户名")])]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.userPsw,expression:"userPsw"}],staticClass:"user-psw",attrs:{type:"password",name:"userpsw",placeholder:"请输入密码"},domProps:{value:e.userPsw},on:{change:e.pswChange,input:function(s){s.target.composing||(e.userPsw=s.target.value)}}}),t("div",{staticClass:"res upsw"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isUserPsw,expression:"isUserPsw"}]},[e._v("请输入6位以上的密码")])]),t("div",{staticClass:"login-button",on:{click:e.userLogin}},[e._v("登录")])]):t("div",{staticClass:"regist"},[t("div",{staticClass:"regist-title"},[e._v("注册")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.regName,expression:"regName"}],staticClass:"reg-name",attrs:{type:"text",name:"regname",placeholder:"请输入用户名"},domProps:{value:e.regName},on:{change:e.regNameChange,input:function(s){s.target.composing||(e.regName=s.target.value)}}}),t("div",{staticClass:"res rname"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isRegName,expression:"isRegName"}]},[e._v("请输入3位以上的用户名")])]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.regPsw1,expression:"regPsw1"}],staticClass:"reg-psw1",attrs:{type:"password",name:"regpsw1",placeholder:"请输入密码"},domProps:{value:e.regPsw1},on:{change:e.regPsw1Change,input:function(s){s.target.composing||(e.regPsw1=s.target.value)}}}),t("div",{staticClass:"res rpsw1"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isRegPsw1,expression:"isRegPsw1"}]},[e._v("请输入6位以上的密码")])]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.regPsw2,expression:"regPsw2"}],staticClass:"reg-psw2",attrs:{type:"password",name:"regpsw2",placeholder:"请输入密码"},domProps:{value:e.regPsw2},on:{change:e.regPsw2Change,input:function(s){s.target.composing||(e.regPsw2=s.target.value)}}}),t("div",{staticClass:"res rpsw2"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isRegPsw2,expression:"isRegPsw2"}]},[e._v("两次输入的密码不一致")])]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.regEmail,expression:"regEmail"}],staticClass:"reg-email",attrs:{type:"text",name:"regemail",placeholder:"请输入邮箱"},domProps:{value:e.regEmail},on:{change:e.regEmailChange,input:function(s){s.target.composing||(e.regEmail=s.target.value)}}}),t("div",{staticClass:"res remail"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isRegEmail,expression:"isRegEmail"}]},[e._v("请输入正确的邮箱")])]),t("div",{staticClass:"regist-button",on:{click:e.userRegist}},[e._v("注册")])])])},o=[],u=t("8d85"),c={name:"LoginAndRegist",props:{isLogin:{type:Boolean,default:!0}},data:function(){return{userName:"",isUserName:!1,userPsw:"",isUserPsw:!1,regName:"",isRegName:!1,regPsw1:"",isRegPsw1:!1,regPsw2:"",isRegPsw2:!1,regEmail:"",isRegEmail:!1}},methods:{userChange:function(){this.userName.length<3?this.isUserName=!0:this.isUserName=!1},pswChange:function(){this.userPsw.length<6?this.isUserPsw=!0:this.isUserPsw=!1},regNameChange:function(){this.regName.length<3?this.isRegName=!0:this.isRegName=!1},regPsw1Change:function(){this.regPsw1.length<6?this.isRegPsw1=!0:this.isRegPsw1=!1},regPsw2Change:function(){this.regPsw2!=this.regPsw1?this.isRegPsw2=!0:this.isRegPsw2=!1},regEmailChange:function(){var e=/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;e.test(this.regEmail)?this.isRegEmail=!1:this.isRegEmail=!0},userLogin:function(){var e=this;if(""!=this.userName&&""!=this.userPsw&&0==this.isUserName&&0==this.isUserPsw){this.userName,this.userPsw;Object(u["d"])(this.userName,this.userPsw).then((function(s){-1==s?e.$toast.show("用户名不存在"):0==s?e.$toast.show("密码错误"):(Object(u["a"])(s).then((function(s){e.$store.dispatch("addCartsById",s).then((function(e){}))})),Object(u["b"])(s).then((function(s){var t=s;e.$store.dispatch("addUserInfo",t).then((function(s){e.$toast.show("登录成功"),e.$router.push("/profile")}))})))}))}else this.$toast.show("请输入正确信息")},userRegist:function(){var e=this;""==this.regName||""==this.regPsw1||""==this.regPsw2||""==this.regEmail||this.isRegName||this.isRegPsw1||this.isRegPsw2||this.isRegEmail?this.$toast.show("请输入正确信息"):Object(u["e"])(this.regName,this.regPsw1,this.regEmail).then((function(s){-1==s?e.$toast.show("用户名已存在"):0==s?e.$toast.show("注册失败"):(e.$toast.show("注册成功"),e.$emit("isLoginChange"))}))}}},g=c,l=(t("d5d8"),t("2877")),m=Object(l["a"])(g,r,o,!1,null,"8da46a2a",null),d=m.exports,h={name:"Login",components:{NavBar:n["a"],LoginAndRegist:d},data:function(){return{isLogin:!0}},computed:{isNavText:function(){return this.isLogin?"登录":"注册"}},methods:{backClick:function(){this.$router.back()},goRegist:function(){this.isLogin=!1},goLogin:function(){this.isLogin=!0},isLoginChange:function(){this.isLogin=!0}}},v=h,w=(t("96b5"),Object(l["a"])(v,i,a,!1,null,"34da3072",null));s["default"]=w.exports},d5d8:function(e,s,t){"use strict";var i=t("1e40"),a=t.n(i);a.a}}]);
//# sourceMappingURL=chunk-726b2c85.81f39384.js.map